<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- OPML generated by OPML Editor v10.1a16 on Fri, 24 Jan 2014 17:07:13 GMT -->
<opml version="2.0">
	<head>
		<title>Publisher docs for GitHub</title>
		<dateCreated>Fri, 24 Jan 2014 14:31:52 GMT</dateCreated>
		<dateModified>Fri, 24 Jan 2014 17:07:12 GMT</dateModified>
		<ownerName></ownerName>
		<ownerId>http://davewiner.com/</ownerId>
		<expansionState>1, 4, 10, 19, 24, 25, 36</expansionState>
		<vertScrollState>1</vertScrollState>
		<windowTop>119</windowTop>
		<windowLeft>1515</windowLeft>
		<windowBottom>1227</windowBottom>
		<windowRight>2560</windowRight>
		</head>
	<body>
		<outline text="Publisher docs">
			<outline text="What is Fargo Publisher? " created="Thu, 23 Jan 2014 14:22:08 GMT" pgfnum="36349">
				<outline text="Fargo Publisher is a node.js app that connects to &lt;a href=&quot;http://fargo.io/&quot;&gt;Fargo&lt;/a&gt; to publish a folder of HTML docs." created="Thu, 23 Jan 2014 14:22:15 GMT" pgfnum="36350"/>
				<outline text="An upcoming release of Fargo has a new built-in content management system that creates static HTML files. All that's needed is a way to flow those files to a static HTTP server. That's what Fargo Publisher does. " created="Thu, 23 Jan 2014 02:49:27 GMT" pgfnum="36345"/>
				<outline text="It defines an open protocol that any app can use to connect to static storage, no matter where the content originates. This implementation stores the files in Amazon S3, but a fork of this project could store them in files, or in another content server. " created="Thu, 23 Jan 2014 14:38:47 GMT" pgfnum="36359"/>
				<outline text="It's open source, using the MIT License. " created="Thu, 23 Jan 2014 14:39:45 GMT" pgfnum="36360"/>
				<outline text="This document includes information you need to install a server, and technical information for implementers." created="Thu, 23 Jan 2014 02:51:27 GMT" pgfnum="36347"/>
				</outline>
			<outline text="How names work" created="Thu, 23 Jan 2014 15:30:07 GMT" pgfnum="36379">
				<outline text="Each outline can be given a public name." created="Thu, 23 Jan 2014 15:30:22 GMT" pgfnum="36380"/>
				<outline text="Rather than invent our own naming system, we're using the Internet's -- DNS." created="Thu, 23 Jan 2014 15:30:31 GMT" pgfnum="36381"/>
				<outline text="So if I call my outline &quot;dave&quot; -- you can refer to it as &lt;a href=&quot;http://dave.smallpict.com/&quot;&gt;dave.smallpict.com&lt;/a&gt;." created="Thu, 23 Jan 2014 15:30:42 GMT" pgfnum="36382"/>
				<outline text="When you go to that address, you get the rendered content. " created="Thu, 23 Jan 2014 15:31:05 GMT" pgfnum="36383"/>
				<outline text="There's only one element of the &amp;lt;head&gt; section of that outline that we care about, &amp;lt;linkHosting&gt;. It's automatically maintained by Fargo. " created="Thu, 23 Jan 2014 15:31:18 GMT" pgfnum="36384"/>
				<outline text="The rest of the outline contents is  up to the user." created="Thu, 23 Jan 2014 15:31:48 GMT" pgfnum="36385"/>
				</outline>
			<outline text="User experience (set up)" created="Thu, 23 Jan 2014 15:32:16 GMT" pgfnum="36386">
				<outline text="The Fargo user brings the outline he or she wants to make public to the front." created="Thu, 23 Jan 2014 15:32:20 GMT" pgfnum="36387"/>
				<outline text="Choose the &lt;i&gt;Name Outline&lt;/i&gt; command in the File menu." created="Thu, 23 Jan 2014 15:32:39 GMT" pgfnum="36388"/>
				<outline text="A &lt;a href=&quot;http://static.scripting.com/larryKing/images/2013/05/14/choosePublicName.gif&quot;&gt;dialog&lt;/a&gt; appears." created="Thu, 23 Jan 2014 15:33:07 GMT" pgfnum="36389"/>
				<outline text="Type a name. As you type the software tells you whether the name is taken. It does this with a call to Fargo Publisher." created="Thu, 23 Jan 2014 15:33:17 GMT" pgfnum="36391"/>
				<outline text="When you click OK, a message is sent to Fargo Publisher to associate that name with the public URL of the outline. Getting a public URL for a file is a feature of Dropbox." created="Thu, 23 Jan 2014 15:33:41 GMT" pgfnum="36392"/>
				</outline>
			<outline text="User experience (publishing)" created="Thu, 23 Jan 2014 15:35:09 GMT" pgfnum="36394">
				<outline text="When the user publishes an outline, or a portion of an outline, it could cause many files to be rendered. " created="Thu, 23 Jan 2014 15:35:18 GMT" pgfnum="36395"/>
				<outline text="The text of those files is saved to a &lt;i&gt;package&lt;/i&gt; file, which is linked into the user's outline, automatically by the CMS." created="Thu, 23 Jan 2014 15:35:34 GMT" pgfnum="36396"/>
				<outline text="When the text is fully rendered, it sends a message to the Publisher server with the name of the outline." created="Thu, 23 Jan 2014 15:35:57 GMT" pgfnum="36397"/>
				<outline text="Publisher then reads the outline (it was registered in the previous step) locates the package file, reads it, breaks the package up into its component files and saves them to the user's folder in the S3 bucket. " created="Thu, 23 Jan 2014 15:36:20 GMT" pgfnum="36398"/>
				<outline text="Publisher sends back to Fargo the base URL of the folder, which is then hooked into the Eye icon, which can be used to view the headline the cursor points to." created="Thu, 23 Jan 2014 15:37:09 GMT" pgfnum="36399"/>
				</outline>
			<outline text="User experience (viewing rendered content)" created="Thu, 23 Jan 2014 15:47:10 GMT" pgfnum="36404">
				<outline text="The Eye icon in the left margin of Fargo is super-important." created="Thu, 23 Jan 2014 15:47:19 GMT" pgfnum="36405"/>
				<outline text="It connects the editing context with the viewing context." created="Thu, 23 Jan 2014 15:47:30 GMT" pgfnum="36406"/>
				<outline text="Put the cursor on any headline in a public outline, and click the &lt;a href=&quot;http://static.scripting.com/larryKing/images/2014/01/23/theAllImportantEye.gif&quot;&gt;Eye&lt;/a&gt;." created="Thu, 23 Jan 2014 15:47:58 GMT" pgfnum="36407"/>
				<outline text="A new tab opens with the rendered view of that section of the outline." created="Thu, 23 Jan 2014 15:48:11 GMT" pgfnum="36408"/>
				</outline>
			<outline text="Before deploy" created="Thu, 23 Jan 2014 15:27:15 GMT" pgfnum="36372">
				<outline text="You're going to need to make a few decisions before you deploy. " created="Thu, 23 Jan 2014 15:27:19 GMT" pgfnum="36373"/>
				<outline text="1. The user files will be stored in an S3 bucket. There is an S3 path for that location. What should it be?" created="Thu, 23 Jan 2014 15:27:36 GMT" pgfnum="36374"/>
				<outline text="2. Where do you want to store the FP data? This includes information about the user's outlines, and stats generated by Fargo Publisher. It's also an S3 path. You might not want this to be public, although there is no personal information stored about the user outlines. It's all designed for publishing. These are &lt;i&gt;public&lt;/i&gt; outlines, by definition. " created="Thu, 23 Jan 2014 15:28:34 GMT" pgfnum="36376"/>
				<outline text="3. What domain for the user names? You have to own the domain and the DNS should point to the node server so it can redirect to the user's content when subdomains are accessed." created="Thu, 23 Jan 2014 15:45:06 GMT" pgfnum="36403"/>
				<outline text="4. What port do you want the server to run on? If you don't specify it, the server will boot on port 80." created="Fri, 24 Jan 2014 16:22:57 GMT" pgfnum="36497"/>
				<outline text="For my deployment I went with (Unix shell commands):" created="Thu, 23 Jan 2014 16:22:54 GMT" pgfnum="36421">
					<outline text="1. export fpHostingPath=/beta.fargo.io/users/"/>
					<outline text="2. export fpDataPath=/beta.fargo.io/data/"/>
					<outline text="3. export fpDomain=smallpict.com"/>
					<outline text="4. export fpServerPort=80"/>
					</outline>
				</outline>
			<outline text="How to deploy" created="Thu, 23 Jan 2014 14:37:28 GMT" pgfnum="36356">
				<outline text="You must have a current node.js installation." created="Thu, 23 Jan 2014 14:41:12 GMT" pgfnum="36361"/>
				<outline text="Install &lt;a href=&quot;https://github.com/mikeal/request&quot;&gt;request&lt;/a&gt;, &lt;a href=&quot;http://aws.amazon.com/sdkfornodejs/&quot;&gt;AWS&lt;/a&gt; and if necessary &lt;a href=&quot;http://nodejs.org/api/url.html&quot;&gt;url&lt;/a&gt;. " created="Thu, 23 Jan 2014 14:41:21 GMT" pgfnum="36362"/>
				<outline text="Set environment variables for AWS." created="Thu, 23 Jan 2014 14:42:18 GMT" pgfnum="36363">
					<outline text="AWS_ACCESS_KEY_ID" created="Thu, 23 Jan 2014 14:45:22 GMT" pgfnum="36367"/>
					<outline text="AWS_SECRET_ACCESS_KEY" created="Thu, 23 Jan 2014 14:45:26 GMT" pgfnum="36368"/>
					</outline>
				<outline text="Set environment variables with your S3 paths and the domain you're using." created="Thu, 23 Jan 2014 14:43:20 GMT" pgfnum="36364">
					<outline text="fpHostingPath -- where the users' files will be stored." created="Thu, 23 Jan 2014 14:43:39 GMT" pgfnum="36365"/>
					<outline text="fpDataPath -- where you want names and stats to be stored. " created="Thu, 23 Jan 2014 15:53:15 GMT" pgfnum="36411"/>
					<outline text="fpDomain -- the domain we're allocating (should be set, via DNS and AWS, where it should point is still TBD)." created="Thu, 23 Jan 2014 14:46:37 GMT" pgfnum="36369"/>
					</outline>
				<outline text="The app is in package.js. package.json already contains all the info that node needs to run it." created="Thu, 23 Jan 2014 14:48:36 GMT" pgfnum="36371"/>
				</outline>
			<outline text="Notes" created="Fri, 24 Jan 2014 01:51:07 GMT" pgfnum="36474">
				<outline text="There's a folder of OPML files that contains the outlines that the JS and MD come from." created="Fri, 24 Jan 2014 01:51:09 GMT" pgfnum="36475"/>
				<outline text="We use the MIT License. Nothing proprietary about the protocol or the code. You are encouraged to clone, innovate, enjoy." created="Fri, 24 Jan 2014 01:51:41 GMT" pgfnum="36476"/>
				<outline text="I love programming in this mode. The tools are great, and node is a wonderful environment, made that way by programmers who share their work so generously. The quality of the work is very impressive. And the commitment to no breakage also refreshing in this day and age. " created="Fri, 24 Jan 2014 01:52:10 GMT" pgfnum="36477"/>
				<outline text="Thanks to Brent Simmons for his Hello World server &lt;a href=&quot;http://inessential.com/2013/12/09/getting_started_with_node_js_for_cocoa_&quot;&gt;example&lt;/a&gt;. It helped this node newbie get started. He says his example is for Cocoa developers, but that's not true. I understood it, and I've never written a line of Cocoa in my life, and think it's a silly name for a programming environment. ;-)" created="Fri, 24 Jan 2014 01:53:14 GMT" pgfnum="36478"/>
				</outline>
			<outline text="Todo list" created="Thu, 23 Jan 2014 14:34:46 GMT" pgfnum="36351">
				<outline text="I had to &lt;i&gt;not&lt;/i&gt; use the CNAME in testing yesterday. " created="Fri, 24 Jan 2014 15:18:30 GMT" pgfnum="36496">
					<outline text="The name is pub.fargo.io -- and when I tested it today it didn't work." created="Fri, 24 Jan 2014 17:05:50 GMT" pgfnum="36499"/>
					<outline text="Doing a little &lt;a href=&quot;https://www.nodejitsu.com/documentation/features/dns/&quot;&gt;research&lt;/a&gt; on Nodejitsu, they have a custom field in the package.json file, &quot;domains&quot; -- that apparently is where you can specify alternate names for your &quot;drone.&quot;" created="Fri, 24 Jan 2014 17:06:14 GMT" pgfnum="36500"/>
					<outline text="Let's see if it works..." created="Fri, 24 Jan 2014 17:07:06 GMT" pgfnum="36501"/>
					</outline>
				<outline text="Stats!" created="Fri, 24 Jan 2014 02:39:55 GMT" pgfnum="36480"/>
				<outline text="&quot;This type of response MUST NOT have a body. Ignoring data passed to end().&quot;" created="Fri, 24 Jan 2014 14:31:56 GMT" pgfnum="36481"/>
				<outline text="When you go to dave.smallpict.com, the rendered website is displayed or the OPML. A choice must be made." created="Thu, 23 Jan 2014 15:42:04 GMT" pgfnum="36402"/>
				<outline text="Related question -- where to point the fpDomain environment variable. Where ever it points must be ready to redirect, based on the choice we make, above." created="Fri, 24 Jan 2014 02:22:36 GMT" pgfnum="36479"/>
				<outline text="How do we backup the database?"/>
				<outline text="Be smarter about file types? -- Should HTML files really be text/plain type? (Are they?) " created="Thu, 23 Jan 2014 14:47:37 GMT" pgfnum="36370"/>
				<outline text="Create an OPML file of user information, every so often." created="Fri, 24 Jan 2014 16:45:55 GMT" pgfnum="36498"/>
				</outline>
			<outline text="Done" created="Thu, 23 Jan 2014 18:03:15 GMT" pgfnum="36443">
				<outline text="Clean up console log calls. Too noisy." created="Fri, 24 Jan 2014 14:32:03 GMT" pgfnum="36482"/>
				<outline text="Make the port a configurable option." created="Fri, 24 Jan 2014 15:13:19 GMT" pgfnum="36483"/>
				<outline text="User interface in Fargo." created="Thu, 23 Jan 2014 15:33:59 GMT" pgfnum="36393"/>
				<outline text="Come up with a cname for fargopub1.jit.su. (pub.fargo.io)" created="Thu, 23 Jan 2014 18:10:31 GMT" pgfnum="36444"/>
				<outline text="Create beta.fargo.io." created="Thu, 23 Jan 2014 16:11:08 GMT" pgfnum="36420"/>
				<outline text="Parameterize using environment variables. See &lt;a href=&quot;http://stackoverflow.com/questions/4870328/how-to-read-environment-variable-in-node-js&quot;&gt;howto&lt;/a&gt;." created="Thu, 23 Jan 2014 14:34:49 GMT" pgfnum="36352"/>
				<outline text="Determine the S3 buckets to use for the Fargo 2 beta deploy." created="Thu, 23 Jan 2014 14:34:57 GMT" pgfnum="36353"/>
				<outline text="Import data from smallpict.com." created="Thu, 23 Jan 2014 14:35:41 GMT" pgfnum="36354"/>
				<outline text="Fix the pingpackage call to use the name not the url of the outline."/>
				</outline>
			</outline>
		</body>
	</opml>